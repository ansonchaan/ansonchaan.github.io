"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{4186:function(e,s,t){t.d(s,{default:function(){return T}});var n=t(7437),a=t(2298),r=t(4673),o=t(5780),u=t(3742),c=t(7359),l=t(2265),i=t(7776);let d=e=>1===e?1:1-Math.pow(2,-10*e);function v(e){let{url:s,soundUrls:t,speed:v=.2,noiseAmplitude:p=.2,noiseScale:w=.2,hoverRadius:P=1,hoverNoiseScale:f=100,hoverHeight:E=.5,easingDuration:S=.3,width:L,...I}=e,T=(0,l.useRef)(),D=(0,l.useRef)([]),O=(0,l.useRef)(null),{nodes:_}=(0,r.L)(s),[h,Y]=(0,l.useState)(null),[b,m]=(0,l.useState)(!1),{camera:y,raycaster:g}=(0,o.D)(),[x]=(0,u.KO)(a.td),[M]=(0,u.KO)(a.h9),[F,A]=(0,l.useState)(0),j=(0,l.useRef)(null),k=(0,l.useRef)(null),C=(0,l.useRef)(null),R=(0,l.useRef)(0),z=(0,l.useRef)(null),[U,V]=(0,l.useState)(0),[q,K]=(0,l.useState)(0);(0,c.LZ)(e=>{V(e.progress),K(e.scroll)});let N=(0,l.useCallback)(()=>{O.current||(O.current=new(window.AudioContext||window.webkitAudioContext))},[]),Z=(0,l.useCallback)(()=>{let e=Math.floor(Math.random()*t.length);return t[e]},[t]),H=(0,l.useCallback)(e=>{if(e.isFading)return;e.isFading=!0;let s=e.audio.volume,t=()=>{if(s=Math.max(0,s-.08),e.audio.volume=s,s>0)requestAnimationFrame(t);else{e.audio.pause(),e.source.disconnect(),e.analyser.disconnect();let s=D.current.findIndex(s=>s===e);-1!==s&&D.current.splice(s,1)}};requestAnimationFrame(t)},[]),W=(0,l.useCallback)(()=>{D.current.forEach(e=>{H(e)})},[H]),B=(0,l.useCallback)(e=>{if(!O.current)return null;let s=new Audio(e),t=O.current.createMediaElementSource(s),n=O.current.createAnalyser();n.fftSize=256,t.connect(n),n.connect(O.current.destination);let a={audio:s,source:t,analyser:n,isFading:!1};return D.current.push(a),s.addEventListener("ended",()=>{H(a)}),a},[H]),Q=(0,l.useCallback)(()=>{if(!M||x)return;N();let e=B(Z());e&&(e.audio.volume=1,e.audio.play().catch(e=>console.log("Audio play failed:",e)))},[M,x,Z,B,N]);(0,l.useEffect)(()=>{M&&N()},[M,N]),(0,l.useEffect)(()=>()=>{D.current.forEach(e=>{e.audio.pause(),e.source.disconnect(),e.analyser.disconnect()}),D.current=[],O.current&&(O.current.close(),O.current=null)},[]),(0,l.useEffect)(()=>{x&&W()},[x,W]);let X=()=>{Y(null),m(!1),z.current=null,W()},{geometry:G,material:J}=(0,l.useMemo)(()=>{let e=Object.values(_).find(e=>e.isMesh);return e.material.normalScale=new i.Vector2(0,0),e.material.side=i.FrontSide,e.material.metalness=.01,e.material.flatShading=!0,e.material.specularIntensity=0,e},[_]),$=(0,l.useMemo)(()=>{let e=G.clone();e.setAttribute("basePosition",new i.BufferAttribute(e.attributes.position.array.slice(),3));let s=new Map,t=e.attributes.basePosition;for(let e=0;e<t.count;e++){let n=t.array[3*e],a=t.array[3*e+1],r=t.array[3*e+2],o="".concat(n.toFixed(4),",").concat(a.toFixed(4),",").concat(r.toFixed(4));s.has(o)||s.set(o,[]),s.get(o).push(e)}return e.vertexMap=s,j.current=new Float32Array(e.attributes.position.count),k.current=new Float32Array(e.attributes.position.count),C.current=new Float32Array(3*e.attributes.position.count),e},[G]);return(0,o.F)(e=>{let{clock:s}=e,t=s.getElapsedTime(),n=Math.min(t-R.current,.1);R.current=t;let a=$.attributes.position,r=$.attributes.basePosition,o=$.attributes.normal,u=$.vertexMap,c=new Set;for(let e=0;e<a.count;e++){if(c.has(e))continue;let s=r.array[3*e],l=r.array[3*e+1],f=r.array[3*e+2],L="".concat(s.toFixed(4),",").concat(l.toFixed(4),",").concat(f.toFixed(4)),I=u.get(L),T=o.array[3*e],D=o.array[3*e+1],O=o.array[3*e+2],_=0;if(h){let e=new i.Vector3(s,l,f).distanceTo(h);e<P&&(_=Math.pow(1-e/P,1.5))}let Y=j.current[e],b=1/S;_>Y?j.current[e]=Math.min(Y+n*b,_):j.current[e]=Math.max(Y-n*b,_);let m=function(e,s,t){let n,a,r,o,u,c,l,i,d,v;let p=Array(512),w=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let e=0;e<256;e++)p[256+e]=p[e]=w[e];function P(e,s,t,n){return e[0]*s+e[1]*t+e[2]*n}let f=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],E=1/3*(e+s+t),S=Math.floor(e+E),L=Math.floor(s+E),I=Math.floor(t+E),T=1/6*(S+L+I),D=e-(S-T),O=s-(L-T),_=t-(I-T);D>=O?O>=_?(u=1,c=0,l=0,i=1,d=1,v=0):(D>=_?(u=1,c=0,l=0):(u=0,c=0,l=1),i=1,d=0,v=1):O<_?(u=0,c=0,l=1,i=0,d=1,v=1):D<_?(u=0,c=1,l=0,i=0,d=1,v=1):(u=0,c=1,l=0,i=1,d=1,v=0);let h=D-u+1/6,Y=O-c+1/6,b=_-l+1/6,m=D-i+1/6*2,y=O-d+1/6*2,g=_-v+1/6*2,x=D-1+1/6*3,M=O-1+1/6*3,F=_-1+1/6*3,A=255&S,j=255&L,k=255&I,C=f[p[A+p[j+p[k]]]%12],R=f[p[A+u+p[j+c+p[k+l]]]%12],z=f[p[A+i+p[j+d+p[k+v]]]%12],U=f[p[A+1+p[j+1+p[k+1]]]%12],V=.6-D*D-O*O-_*_;V<0?n=0:(V*=V,n=V*V*P(C,D,O,_));let q=.6-h*h-Y*Y-b*b;q<0?a=0:(q*=q,a=q*q*P(R,h,Y,b));let K=.6-m*m-y*y-g*g;K<0?r=0:(K*=K,r=K*K*P(z,m,y,g));let N=.6-x*x-M*M-F*F;return N<0?o=0:(N*=N,o=N*N*P(U,x,M,F)),32*(n+a+r+o)}(s*w+t*v,l*w+t*v,f*w+t*v)*p;for(let t of I){c.add(t),j.current[t]=j.current[e];let n=d(j.current[t]),r=n>0&&M?E*n:0;a.array[3*t]=s+T*(m+r),a.array[3*t+1]=l+D*(m+r),a.array[3*t+2]=f+O*(m+r)}}a.needsUpdate=!0}),(0,n.jsx)("group",{children:(0,n.jsx)("mesh",{...I,ref:T,geometry:$,material:J,onPointerMove:e=>{let{clientX:s,clientY:t}=e,n=Date.now(),a=new i.Vector2((s+window.innerWidth*(L>=1024?.15:L>=768?.25:0))/window.innerWidth*2-1,-(t/window.innerHeight*2)+1);g.setFromCamera(a,y);let r=g.intersectObject(T.current);if(r.length>0){let e=r[0].point;if(b||(m(!0),Q()),z.current){let s=e.distanceTo(z.current),t=n-F;s>.2&&t>1e3&&(Q(),A(n))}Y(e),z.current=e}else X()},onPointerLeave:X,rotation:[0,Math.PI/8,0],scale:[1,1,L>=768&&q>0?1-.8*U:1]})})}var p=t(789),w=t(1010),P=t(7585),f=t(3631),E=t(52),S=t(5464),L=t(4398),I=t(357);function T(e){let{width:s}=e,t=(0,l.useRef)();return(0,c.LZ)(e=>{t.current&&e.scroll>0&&(t.current.setAzimuthalAngle(e.progress*Math.PI*2),t.current.setPolarAngle(Math.PI/2+e.progress*Math.PI/4))}),(0,n.jsxs)(P.Xz,{style:{pointerEvents:L.tq?"unset":"initial"},camera:{position:[0,0,s>=1024?16:s>=768?25:17],fov:30},children:[(0,n.jsx)("ambientLight",{intensity:.8}),(0,n.jsx)("pointLight",{position:[3,8,10],intensity:1500,color:"#AE63E7"}),(0,n.jsx)(p.b,{children:(0,n.jsx)(v,{url:"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/stoneV2.glb"),soundUrls:["/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - arp 1.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - arp 2.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - arp 3.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bass.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - blaa.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 1.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 2.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 3.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 4.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 5.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 6.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 7.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bleep 8.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 1.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 2.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 3.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 4.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 5.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 6.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 7.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 8.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 9.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 10.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 11.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bloop 12.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bongo.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - bubbly.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - chainsaw.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - clinical.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - framedrum 1.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - framedrum 2.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - framedrum 3.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - framedrum 4.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - framedrum 5.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - framedrum 6.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - funky.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - groove.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 1.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 2.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 3.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 4.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 5.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 6.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 7.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 8.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - harp 9.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - jazz.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - noise 1.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - noise 2.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - noise 3.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - pickup.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - scratchy.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - sing.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - six.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - snareclap.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - steel 1.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - steel 2.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - subby.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - talking.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - thump.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - tribal.wav"),"/".concat("true"===I.env.IS_DEPLOY?"2024/":"","assets/sounds/deTour clips - ufo.wav")],speed:.1,noiseAmplitude:.1,noiseScale:.5,hoverRadius:1.5,hoverHeight:.3,easingDuration:2,width:s})}),(0,n.jsx)(w.z,{ref:t,enableZoom:!1,enablePan:!1,enableRotate:!1}),(0,n.jsx)(f.x,{enableNormalPass:!0,children:(0,n.jsx)(E.K,{blendFunction:S.YQ.MULTIPLY,samples:30,rings:0,distanceThreshold:1,distanceFalloff:0,rangeThreshold:0,rangeFalloff:0,luminanceInfluence:0,radius:0,worldDistanceThreshold:.01,worldDistanceFalloff:.1,worldProximityThreshold:.01,worldProximityFalloff:.1,bias:.5})})]})}},2298:function(e,s,t){t.d(s,{h9:function(){return o},ix:function(){return c},jr:function(){return a},td:function(){return r},zU:function(){return u}});var n=t(9910);let a=(0,n.cn)(!1),r=(0,n.cn)(!0),o=(0,n.cn)(!1),u=(0,n.cn)(0),c=(0,n.cn)(!1)}}]);