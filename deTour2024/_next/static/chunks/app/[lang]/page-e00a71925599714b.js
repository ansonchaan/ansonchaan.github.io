(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4238:function(e,t,a){Promise.resolve().then(a.bind(a,6718)),Promise.resolve().then(a.bind(a,3297)),Promise.resolve().then(a.bind(a,824)),Promise.resolve().then(a.t.bind(a,4080,23)),Promise.resolve().then(a.bind(a,7045)),Promise.resolve().then(a.bind(a,9637)),Promise.resolve().then(a.bind(a,386)),Promise.resolve().then(a.bind(a,6061)),Promise.resolve().then(a.bind(a,5417))},8902:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var l=a(7437),r=a(5721),i=a(30),s=a(9935),n=a(7359),c=a(2265),o=a(4398);function d(e){let{fixedHeight:t,idx:a,className:d,variants:m,hidden:u=!1,refresh:x,children:h}=e,g=(0,c.useRef)(null),f=(0,c.useRef)(null),[p,b]=(0,c.useState)(0),[v,y]=(0,c.useState)(0),[w,j]=(0,c.useState)(0),N=(0,r.i)(),[_,k]=(0,c.useState)(0),[Z,D]=(0,c.useState)(0);return(0,n.LZ)(e=>{var t;let{scroll:a}=e;j(a),y(null===(t=g.current)||void 0===t?void 0:t.getBoundingClientRect().y)}),(0,c.useEffect)(()=>{D(Math.round(v-N.height+_*a))},[w,N,v,p,a,_,x]),(0,c.useEffect)(()=>{k(.088*N.height)},[N]),(0,c.useEffect)(()=>{if(!f.current)return;let e=f.current,t=new ResizeObserver(e=>{for(let t of e)b(t.borderBoxSize[0].blockSize)});return t.observe(e),()=>{t.unobserve(e),t.disconnect()}},[]),(0,l.jsx)("div",{ref:g,className:(0,i.Z)("relative group",!o.tq&&N.width>=768&&Z>0?"is-fixed [&>*]:right-[calc(0.75rem)] md:[&>*]:right-[calc(0.75rem-7px)] xl:[&>*]:right-[calc(1.5rem-7px)]":"[&>*]:right-0"),style:{height:p+"px"},children:(0,l.jsx)("div",{ref:f,id:"cardWrapper",className:"relative group-[.is-fixed]:fixed transition-transform duration-[1s] ease-custom",style:{top:"".concat(!o.tq&&N.width>=768&&Z>0?"calc(100svh - ".concat(_*a,"px"):"0px"),height:t,transform:"translate3d(".concat(u?"90%":"0%",", 0, 0)"),WebkitOverflowScrolling:"touch"},children:(0,l.jsx)(s.E.div,{id:"cardContent",className:(0,i.Z)("size-full relative backdrop-blur-[.625rem] overflow-hidden",d),variants:m,children:h})})})}},386:function(e,t,a){"use strict";a.d(t,{default:function(){return N}});var l=a(7437),r=a(8902),i=a(203),s=a(5721),n=a(2298),c=a(9533),o=a(3297),d=a(6718),m=a(30),u=a(9935),x=a(3742),h=a(7138),g=a(2265);let f={hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.2}}},p={hidden:{y:100,scale:1.05,opacity:0,filter:"blur(.625rem)",transition:{duration:.6,ease:[.16,1,.3,1]}},visible:{y:0,scale:1,opacity:1,filter:"blur(0px)",transition:{duration:1.6,ease:[.16,1,.3,1]}}},b=(e,t)=>{let a="en-us"===t?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]:["日","一","二","三","四","五","六"];return"en-us"===t?"".concat(e.getDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]," (").concat(a[e.getDay()],")"):"".concat(e.getMonth()+1,"月").concat(e.getDate(),"日(").concat(a[e.getDay()],")")},v=(e,t)=>{let a="en-us"===t?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]:["日","一","二","三","四","五","六"];return"en-us"===t?"".concat(e.getDate()," ").concat(["January","Febuary","March","April","May","Jun","July","August","September","October","November","December"][e.getMonth()],", ").concat(a[e.getDay()]):"".concat(e.getMonth()+1,"月").concat(e.getDate(),"日(").concat(a[e.getDay()],")")},y=e=>{let t=e.getHours(),a=e.getMinutes();return"".concat(t<10?"0".concat(t):t,":").concat(a<10?"0".concat(a):a)},w=["lightGray","purple","gray"];function j(e){let{idx:t,isHidden:a,isRefresh:s,posts:n,bgColor:c,category:u,memoizedFormatDate:x,memoizedFormatTime:g,navigation:f,text:b,lang:v}=e;return(0,l.jsxs)(r.Z,{className:(0,m.Z)("min-h-[7.25rem] flex gap-6 flex-col backdrop-blur-[1.25rem]","bg-".concat(c,"/90")),variants:p,idx:t,hidden:a,refresh:s,children:[(0,l.jsx)("h1",{className:(0,m.Z)("h-8","lightGray"===c?"text-purple":"text-white"),children:(0,l.jsxs)(o.PrismicNextLink,{className:"w-full flex justify-between -mb-5",field:f.data.events,as:{pathname:"/".concat(v,"/events"),query:{cat:u.uid}},children:[u.data.label,(0,l.jsx)("span",{className:(0,m.Z)("amount","flex-none","lightGray"===c?"bg-purple":"bg-lightGray","black"===c?"text-gray":"text-".concat(c),0===n.length&&"bg-no-repeat bg-center bg-[length:.875rem_.875rem]",0===n.length&&("lightGray"===c?"bg-[url('../../public/assets/images/arrow_next_w.svg')]":"bg-[url('../../public/assets/images/arrow_next.svg')]")),children:n.length>0&&n.length})]})}),(0,l.jsx)("div",{className:"flex gap-5 flex-col group-[.is-fixed]:opacity-0 group-[.is-fixed]:pointer-events-none transition-opacity duration-300",children:n.slice(0,5).map((e,t)=>(0,l.jsx)("div",{className:(0,m.Z)("text-lg","en-us"===v?"leading-6":"leading-[1.7rem]","lightGray"===c?"text-purple":"text-white"),children:(0,l.jsxs)(o.PrismicNextLink,{className:"flex gap-4 xl:gap-5",document:e,children:[(0,l.jsx)("div",{className:(0,m.Z)("flex-none size-20 relative rounded-lg overflow-hidden","guided-tour"===u.uid?"after:hidden":""),children:(0,l.jsx)(d.PrismicNextImage,{className:(0,m.Z)("size-full object-cover"),field:e.data.gallery[0].image,alt:"",width:110})}),(0,l.jsxs)("div",{className:"mt-[-.3125rem]",children:[(0,l.jsx)("h2",{className:"line-clamp-2",children:e.data.title}),"workshop"!==e.data.category.uid&&"detour-kid"!==e.data.category.uid&&(0,l.jsx)(l.Fragment,{children:"guided-tour"!==e.data.category.uid?e.data.slices2.map(e=>e.primary.dates.map(e=>(0,l.jsxs)("div",{children:[x(new Date(e.available_from),v),(0,l.jsx)("span",{children:" → "}),(0,l.jsx)("span",{className:"text-nowrap",children:"".concat(g(new Date(e.available_from)),"–").concat(g(new Date(e.available_to)))})]},e.available_from))):(0,l.jsx)("span",{children:b.timeSlotsAvailable})})]})]})},t))}),n.length>0&&(0,l.jsx)("div",{className:"flex-none pr-1 -mt-4",children:(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("div",{className:(0,m.Z)("absolute bottom-0 right-0 w-full h-10 pointer-events-none before:bg-gradient-to-t","before:w-full before:h-[3.75rem] before:absolute before:bottom-full before:left-0","before:bg-gradient-to-t ".concat("lightGray"===c?"before:from-lightGray":"purple"===c?"before:from-purple":"before:from-gray"," ").concat("lightGray"===c?"bg-lightGray":"purple"===c?"bg-purple":"bg-gray"))}),(0,l.jsx)(h.default,{className:(0,m.Z)("text-xl relative","lightGray"===c?"text-gray":"text-white"),href:"/:lang/events",as:{pathname:"/".concat(v,"/events"),query:{cat:u.uid}},children:(0,l.jsx)(i.Z,{className:(0,m.Z)("text-sm font-medium uppercase","lightGray"===c?"text-purple":"text-white"),size:".3125rem",gap:".25rem",color:"lightGray"===c?"*:bg-purple":"*:bg-lightGray",text:b.viewAll})})]})})]})}function N(e){let{events_posts:t,exhibitions_posts:a,navigation:h,settings:N,lang:_}=e,[k,Z]=(0,x.KO)(n.jr),D=(0,g.useMemo)(()=>b,[]),S=(0,g.useMemo)(()=>y,[]),[z,M]=(0,g.useState)(t),[P,G]=(0,g.useState)(a),[C,E]=(0,g.useState)(0),[T,F]=(0,g.useState)(new Date),[L,O]=(0,g.useState)(!1),{width:W}=(0,s.i)(),A=c[_].common,H=(0,g.useCallback)((e,t)=>e.filter(e=>e.data.slices2.some(e=>e.primary.dates.some(e=>new Date(e.available_from).getDate()===t.getDate()&&new Date(e.available_from).getMonth()+1===t.getMonth()+1))),[]),I=(0,g.useCallback)(e=>{let l=[],r=[];F(e),t.map(t=>{l=[...l,H(t,e)]}),r=a,M(l),G(r),O(!L)},[t,a,H,L]);function J(){let e=new Date,t=new Date("2024-11-25"),a=Math.floor(Math.floor((e.valueOf()-t.valueOf())/864e5)/7)+1;return{week:"en-us"===_?"Week ".concat(a>3?3:a):"第".concat(["一","二","三","四","五","六"][a>3?2:a-1],"周"),num:a}}function q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e),a=t.getDay(),l=new Date(t),r=0===a?0:7-a;l.setDate(t.getDate()+r);let i=new Date(t),s=6-a;return i.setDate(t.getDate()+s),{saturday:i,sunday:l,daysUntilSaturday:s,daysUntilSunday:r}}return(0,g.useEffect)(()=>{!k&&W>0&&setTimeout(()=>Z(!0),W>=768?2400:0)},[k,Z,W]),(0,g.useEffect)(()=>{J().num<=3&&I(new Date)},[]),(0,l.jsx)("div",{className:"w-full flex flex-col items-end relative",children:k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u.E.div,{className:(0,m.Z)("w-[calc(100vw-0.75rem*2)] md:w-[calc((100vw-0.75rem*3)/2)] lg:w-[calc((100vw-0.75rem*4)/3)] xl:w-[calc((100vw-1.5rem*4)/3)] right-0","[&_#cardWrapper]:w-[calc(100vw-0.75rem*2)] md:[&_#cardWrapper]:w-[calc((100vw-0.75rem*3)/2)] lg:[&_#cardWrapper]:w-[calc((100vw-0.75rem*4)/3)] xl:[&_#cardWrapper]:w-[calc((100vw-1.5rem*4)/3)]","flex flex-col gap-3 py-3 xl:py-6 relative z-0 md:z-40","[&_#cardContent]:rounded-[1.25rem] [&_#cardContent]:p-4 xl:[&_#cardContent]:pl-5","[&_h1]:text-xl [&_h1]:flex [&_h1]:justify-between [&_h1]:leading-tight","[&_.amount]:size-8 [&_.amount]:text-base [&_.amount]:font-medium [&_.amount]:rounded-full [&_.amount]:flex [&_.amount]:justify-center [&_.amount]:items-center"),variants:f,initial:"hidden",animate:"visible",exit:"exit",children:[J().num<=3?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{variants:p,fixedHeight:"2.5rem",idx:7,children:(0,l.jsxs)("div",{className:(0,m.Z)("flex gap-[.125rem] absolute size-full top-0 left-0","en-us"===_?"leading-[1.375rem] xl:leading-6":"leading-[1.45rem] xl:leading-[1.7rem]","*:rounded-[1.25rem] *:p-3 *:px-4 *:transition-colors"),children:[(0,l.jsx)("div",{className:(0,m.Z)(0===C?"bg-purple/90 text-white":"bg-lightGray/90 hover:text-purple text-black","flex justify-cetner items-center overflow-hidden cursor-pointer"),onClick:()=>{I(new Date),E(0)},children:A.today}),(0,l.jsx)("div",{className:(0,m.Z)(1===C?"bg-purple/90 text-white":"bg-lightGray/90 hover:text-purple text-black","flex justify-cetner items-center overflow-hidden cursor-pointer"),onClick:()=>{I(q().saturday),E(1)},children:A.thisSat}),(0,l.jsx)("div",{className:(0,m.Z)(2===C?"bg-purple/90 text-white":"bg-lightGray/90 hover:text-purple text-black","flex justify-cetner items-center overflow-hidden cursor-pointer"),onClick:()=>{I(q().sunday),E(2)},children:A.thisSun})]})}),(0,l.jsxs)(r.Z,{className:"bg-purple text-white",variants:p,fixedHeight:"7.5rem",idx:6,children:[(0,l.jsx)("h1",{children:J().week}),(0,l.jsx)("div",{className:"text-xl absolute size-full top-0 left-0 flex justify-center items-center",children:v(T,_)})]})]}):(0,l.jsx)(r.Z,{className:"bg-purple text-white",variants:p,fixedHeight:"8.5rem",idx:6,children:(0,l.jsx)("div",{className:(0,m.Z)("absolute size-full top-0 left-0 p-3 pl-4 text-lg","en-us"===_?"leading-[1.375rem]":"leading-[1.45rem]"),children:"en-us"===_?(0,l.jsx)("span",{className:"w-[90%] inline-block",dangerouslySetInnerHTML:{__html:"Thank you to all the participants, <br/>2024 deTour design festival has came to a successful end. <br/><br/>Let’s meet again next year!"}}):(0,l.jsx)("span",{className:"w-[90%] inline-block",dangerouslySetInnerHTML:{__html:"deTour 2024設計節已圓滿結束， <br/>感謝今年所有參與者！<br/><br/>我們約定明年再見！"}})})}),(0,l.jsxs)(r.Z,{className:(0,m.Z)("min-h-[7.25rem] flex gap-6 flex-col backdrop-blur-[1.25rem]","bg-gray/90"),variants:p,idx:5,children:[(0,l.jsx)("h1",{className:"w-full h-8 text-white",children:(0,l.jsxs)(o.PrismicNextLink,{className:"w-full flex justify-between -mb-5",field:h.data.exhibitions[0].link,children:[h.data.exhibitions[0].label,(0,l.jsx)("span",{className:(0,m.Z)("amount","flex-none bg-white text-gray",0===P.length&&"bg-[url('../../public/assets/images/arrow_next.svg')] bg-no-repeat bg-center bg-[length:.875rem_.875rem]"),children:P.length>0&&P.length})]})}),(0,l.jsx)("div",{className:"flex gap-5 flex-col group-[.is-fixed]:opacity-0 transition-opacity duration-300",children:P.slice(0,5).map((e,t)=>(0,l.jsx)("div",{className:(0,m.Z)("text-lg text-white","en-us"===_?"leading-6":"leading-[1.7rem]"),children:(0,l.jsxs)(o.PrismicNextLink,{className:"flex gap-4 xl:gap-5",document:e,children:[(0,l.jsx)("div",{className:(0,m.Z)("flex-none size-20 relative rounded-lg overflow-hidden"),children:(0,l.jsx)(d.PrismicNextImage,{className:(0,m.Z)("size-full object-cover"),field:e.data.gallery[0].image,alt:"",width:110})}),(0,l.jsxs)("div",{className:"mt-[-.3125rem]",children:[(0,l.jsx)("div",{children:e.data.category.data.label}),(0,l.jsx)("h2",{className:"line-clamp-2",children:e.data.title})]})]})},t))}),P.length>0&&(0,l.jsx)("div",{className:"flex-none pr-1 -mt-4",children:(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("div",{className:(0,m.Z)("absolute bottom-0 right-0 w-full h-10 pointer-events-none before:bg-gradient-to-t","before:w-full before:h-[3.75rem] before:absolute before:bottom-full before:left-0","before:bg-gradient-to-t before:from-gray bg-gray")}),(0,l.jsx)(o.PrismicNextLink,{className:(0,m.Z)("text-xl relative","text-white"),field:h.data.exhibitions[0].link,children:(0,l.jsx)(i.Z,{className:(0,m.Z)("text-sm font-medium uppercase","text-white"),size:".3125rem",gap:".25rem",color:"*:bg-white",text:A.viewAll})})]})})]}),h.data.categories.map((e,t)=>(0,l.jsx)(j,{idx:4-t,isRefresh:L,bgColor:w[t%3],posts:z[t],category:e.category,memoizedFormatDate:D,memoizedFormatTime:S,navigation:h,text:A,lang:_},e.category.id))]}),(0,l.jsx)(u.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:0},className:"text-white text-xxs flex justify-end relative z-10 pb-6 pt-2",children:(0,l.jsxs)("div",{className:(0,m.Z)("w-[calc(100vw-0.75rem*2)] md:w-[calc((100vw-0.75rem*3)/2)] lg:w-[calc((100vw-0.75rem*4)/3)] xl:w-[calc((100vw-1.5rem*4)/3)]","transition-transform duration-[1s] ease-custom"),children:[(0,l.jsxs)("div",{className:"w-full flex flex-col sm:flex-row md:flex-col flex-wrap gap-3 sm:gap-12 md:gap-3",children:[(0,l.jsxs)("div",{className:"flex-1 sm:flex-none flex flex-col",children:[(0,l.jsx)("div",{className:"uppercase text-xs tracking-normal",children:A.organiser}),(0,l.jsx)("div",{className:"flex-1 flex items-center",children:N.data.organiser.map(e=>(0,l.jsx)(d.PrismicNextImage,{className:"aspect-square object-contain",field:e.image,alt:""},e.image.id))})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,l.jsx)("div",{className:"uppercase text-xs tracking-normal",children:A.leadSponsor}),(0,l.jsx)("div",{className:"flex-1 flex gap-[1.375rem] items-center",children:N.data.lead_sponsor.map(e=>(0,l.jsx)("div",{children:(0,l.jsx)(d.PrismicNextImage,{field:e.image,alt:""})},e.image.id))})]})]}),(0,l.jsx)("p",{className:"pt-[1.4375rem]",children:N.data.disclaimer})]})})]})})}},2298:function(e,t,a){"use strict";a.d(t,{h9:function(){return s},ix:function(){return c},jr:function(){return r},td:function(){return i},zU:function(){return n}});var l=a(9910);let r=(0,l.cn)(!1),i=(0,l.cn)(!0),s=(0,l.cn)(!1),n=(0,l.cn)(0),c=(0,l.cn)(!1)}},function(e){e.O(0,[933,858,742,490,971,23,744],function(){return e(e.s=4238)}),_N_E=e.O()}]);