{"version":3,"sources":["Component/page/D01/LightBox.js","Component/page/D01/VideoPlayer.js","Component/page/D01/index.js","ipc/index.js","ipc/log.js","images/d01/map.png","images/d01/map_top.png"],"names":["LightBox","props","imageSrc","filteredData","batteryIdx","details","gallery","images","galleryIdx","src","videoSrc","video","id","onClick","setOpenLightBox","controls","autoplay","hideControls","isInDevMode","style","backgroundImage","VideoPlayer","playerId","Date","player","this","init_player","init_player_events","nextProps","set_controls_visibility","dispose","playerOptions","generate_player_options","videojs","document","querySelector","poster","muted","preload","width","height","bigPlayButton","hidePlaybackRates","includes","playbackRates","hidden_controls","Object","keys","Controls","map","x","controlBar","show","hide","currentTime","previousTime","position","ready","onReady","window","on","onPlay","onPause","e","onTimeUpdate","off","one","onSeeking","completeTime","Math","floor","onSeeked","onEnd","className","bigPlayButtonCentered","Component","defaultProps","D01","language","useSelector","state","dispatch","useDispatch","useState","data","contents","contentData","setContentData","setFilteredData","category","setCategory","disableEvent","setDisableEvent","zoomValue","setZoomValue","showDetails","setShowDetails","rangeValue","setRangeValue","setBatteryIdx","openLightBox","setGalleryIdx","idle","setIdle","topbarElem","useRef","sidebarElem","mapOuterWrapElem","mapWrapElem","mapTopElem","mapElem","getDisableFunc","zoomToFunc","getMarkersFunc","resetPosFunc","useEffect","initWidth","initHeight","pos","y","ease","offset","left","top","markerElems","mouse","currentPos","startPos","lastPos","delta","zoom","startZoom","maxWidth","maxHeight","ratio","disable","startFingerDist","fingerDist","timer","onMouseDown","event","touches","clientX","clientY","clearTimeout","setTimeout","openDetailsPage","length","get_distance","addEventListener","onMouseMove","onTouchMove","onMouseUp","preventDefault","zoomTo","removeEventListener","onMouseWheel","diffX","diffY","sqrt","current","offsetLeft","offsetTop","innerWidth","innerHeight","mx","my","offsetHeight","offsetBeforeZoom","deltaY","min","max","offsetAfterZoom","space","resetPos","update","offsetWidth","movePos","i","transform","moveMarkerPos","getMarkers","elems","getDisable","bool","init","querySelectorAll","passive","render","requestAnimationFrame","img","Image","onload","w","mapImg","loadImage","smooth","SmoothScroll","s","h","showScrollBar","listsmooth","hideScrollBar","filteringData","_filteredData","batteries","_this","startDateOfCategory","endDateOfCategory","push","onUpdateLanguate","lang","type","setLogData","getNewPathname","location","pathname","replace","loop","ref","onTouchStart","onTouchEnd","step","value","onChange","target","to","dangerouslySetInnerHTML","__html","global","selectDate","menu","v","key","cat","markers","gsap","fromTo","autoAlpha","stagger","force3D","scale","year","round","name","mapTopImg","list","Array","isArray","console","log","j","description","credit","ipc","require","ipcRenderer","msg","ipcFunc","send","module","exports"],"mappings":"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","file":"static/js/7.3e8f3255.chunk.js","sourcesContent":["import React from 'react';\r\nimport VideoPlayer from 'react-video-js-player';\r\nimport { isInDevMode } from '../../../globalFunc';\r\n\r\nconst LightBox = props => {\r\n    const imageSrc = props.filteredData[props.batteryIdx].details.gallery.images[props.galleryIdx].src;\r\n    const videoSrc = props.filteredData[props.batteryIdx].details.gallery.video;\r\n    return(\r\n        <div id=\"lightBoxWrap\">\r\n            <div id=\"wrap\">\r\n                <div id=\"closeBtn\" onClick={()=>props.setOpenLightBox(false)}></div>\r\n                {   \r\n                    videoSrc && props.galleryIdx === 0 ?\r\n                    <VideoPlayer\r\n                        controls={true}\r\n                        autoplay={true}\r\n                        hideControls={['volume','playbackrates','fullscreen']}\r\n                        src={(!isInDevMode() ? '.' : '') + videoSrc}\r\n                    />\r\n                    :\r\n                    <div id=\"image\" style={{backgroundImage:`url(${(!isInDevMode() ? '.' : '') + imageSrc})`}}></div>\r\n                }\r\n            </div>\r\n            <div id=\"bg\" onClick={()=>props.setOpenLightBox(false)}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LightBox;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Controls from 'react-video-js-player/src/Controls.json';\r\nimport videojs from 'video.js';\r\nimport 'video.js/dist/video-js.css';\r\n\r\nclass VideoPlayer extends Component {\r\n    playerId = `video-player-${new Date * 1}`;\r\n    player = {};\r\n    componentDidMount() {\r\n        this.init_player(this.props);\r\n        this.init_player_events(this.props);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        this.set_controls_visibility(this.player, nextProps.hideControls);\r\n        if(this.props.src !== nextProps.src){\r\n            this.init_player(nextProps);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.player) this.player.dispose();\r\n    }\r\n\r\n    init_player(props) {\r\n        const playerOptions = this.generate_player_options(props);\r\n        this.player = videojs(document.querySelector(`#${this.playerId}`), playerOptions);\r\n        this.player.src(props.src)\r\n        this.player.poster(props.poster)\r\n        this.set_controls_visibility(this.player, props.hideControls);\r\n    }\r\n\r\n    generate_player_options(props){\r\n        const playerOptions = {};\r\n        playerOptions.controls = props.controls;\r\n        playerOptions.autoplay = props.autoplay;\r\n        playerOptions.muted = props.muted;\r\n        playerOptions.preload = props.preload;\r\n        playerOptions.width = props.width;\r\n        playerOptions.height = props.height;\r\n        playerOptions.bigPlayButton = props.bigPlayButton;\r\n        const hidePlaybackRates = props.hidePlaybackRates || props.hideControls.includes('playbackrates');\r\n        if (!hidePlaybackRates) playerOptions.playbackRates = props.playbackRates;\r\n        return playerOptions;\r\n    }\r\n\r\n    set_controls_visibility(player, hidden_controls){\r\n        Object.keys(Controls).map(x => { player.controlBar[Controls[x]].show() })\r\n        hidden_controls.map(x => { player.controlBar[Controls[x]].hide() });\r\n    }\r\n\r\n    init_player_events(props) {\r\n        let currentTime = 0;\r\n        let previousTime = 0;\r\n        let position = 0;\r\n\r\n        this.player.ready(() => {\r\n            props.onReady(this.player);\r\n            window.player = this.player;\r\n        });\r\n        this.player.on('play', () => {\r\n            props.onPlay(this.player.currentTime());\r\n        });\r\n        this.player.on('pause', () => {\r\n            props.onPause(this.player.currentTime());\r\n        });\r\n        this.player.on('timeupdate', (e) => {\r\n            props.onTimeUpdate(this.player.currentTime());\r\n            previousTime = currentTime;\r\n            currentTime = this.player.currentTime();\r\n            if (previousTime < currentTime) {\r\n                position = previousTime;\r\n                previousTime = currentTime;\r\n            }\r\n        });\r\n        this.player.on('seeking', () => {\r\n            this.player.off('timeupdate', () => { });\r\n            this.player.one('seeked', () => { });\r\n            props.onSeeking(this.player.currentTime());\r\n        });\r\n\r\n        this.player.on('seeked', () => {\r\n            let completeTime = Math.floor(this.player.currentTime());\r\n            props.onSeeked(position, completeTime);\r\n        });\r\n        this.player.on('ended', () => {\r\n            props.onEnd();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <video id={this.playerId} className={`video-js ${this.props.bigPlayButtonCentered? 'vjs-big-play-centered' : ''} ${this.props.className}`}></video>\r\n        )\r\n    }\r\n}\r\n\r\nVideoPlayer.propTypes = {\r\n    src: PropTypes.string,\r\n    poster: PropTypes.string,\r\n    controls: PropTypes.bool,\r\n    autoplay: PropTypes.bool,\r\n    muted: PropTypes.bool,\r\n    preload: PropTypes.oneOf(['auto', 'none', 'metadata']),\r\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    hideControls: PropTypes.arrayOf(PropTypes.string),\r\n    bigPlayButton: PropTypes.bool,\r\n    bigPlayButtonCentered: PropTypes.bool,\r\n    onReady: PropTypes.func,\r\n    onPlay: PropTypes.func,\r\n    onPause: PropTypes.func,\r\n    onTimeUpdate: PropTypes.func,\r\n    onSeeking: PropTypes.func,\r\n    onSeeked: PropTypes.func,\r\n    onEnd: PropTypes.func,\r\n    playbackRates: PropTypes.arrayOf(PropTypes.number),\r\n    hidePlaybackRates: PropTypes.bool,\r\n    className: PropTypes.string\r\n}\r\n\r\nVideoPlayer.defaultProps = {\r\n    src: \"\",\r\n    poster: \"\",\r\n    controls: true,\r\n    autoplay: true,\r\n    muted : true,\r\n    preload: 'auto',\r\n    playbackRates: [0.5, 1, 1.5, 2],\r\n    hidePlaybackRates: false,\r\n    className: \"\",\r\n    hideControls: [],\r\n    bigPlayButton: true,\r\n    bigPlayButtonCentered: true,\r\n    onReady: () => { },\r\n    onPlay: () => { },\r\n    onPause: () => { },\r\n    onTimeUpdate: () => { },\r\n    onSeeking: () => { },\r\n    onSeeked: () => { },\r\n    onEnd: () => { }\r\n}\r\n\r\n\r\nexport default VideoPlayer;","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport gsap from 'gsap';\r\nimport { SmoothScroll, isInDevMode } from '../../../globalFunc';\r\n\r\nimport LightBox from './LightBox';\r\nimport VideoPlayer from './VideoPlayer';\r\n\r\nimport mapImg from '../../../images/d01/map.png';\r\nimport mapTopImg from '../../../images/d01/map_top.png';\r\nimport data from '../../../D01.json';\r\nimport { setLogData } from '../../../ipc/log';\r\n\r\n\r\nconst D01 = props => {\r\n    const language = useSelector(state => state.language);\r\n    const dispatch = useDispatch();\r\n    // const count = useSelector(state => state.count);\r\n    // const [language, setLanguage] = useState('en');\r\n    const [contentData, setContentData] = useState(data.contents[language]);\r\n    const [filteredData, setFilteredData] = useState([]);\r\n    const [category, setCategory] = useState(null);\r\n    // const [dragging, setDragging] = useState(false);\r\n    const [disableEvent, setDisableEvent] = useState(false);\r\n    const [zoomValue, setZoomValue] = useState(0);\r\n    // const [toparrow, setToparrow] = useState(false);\r\n    // const [downarrow, setDownarrow] = useState(true);\r\n    const [showDetails, setShowDetails] = useState(false);\r\n    const [rangeValue, setRangeValue] = useState(0);\r\n    const [batteryIdx, setBatteryIdx] = useState(null);\r\n    const [openLightBox, setOpenLightBox] = useState(false);\r\n    const [galleryIdx, setGalleryIdx] = useState(0);\r\n    const [idle, setIdle] = useState(true);\r\n\r\n    const topbarElem = useRef(null);\r\n    const sidebarElem = useRef(null);\r\n    const mapOuterWrapElem = useRef(null);\r\n    const mapWrapElem = useRef(null);\r\n    const mapTopElem = useRef(null);\r\n    const mapElem = useRef(null);\r\n    const getDisableFunc = useRef(null);\r\n    const zoomToFunc = useRef(null);\r\n    const getMarkersFunc = useRef(null);\r\n    const resetPosFunc = useRef(null);\r\n\r\n    useEffect(()=>{\r\n        const map = {\r\n            initWidth:0, initHeight:0, \r\n            pos:{x:-170, y:-170}, \r\n            ease:{x:-170, y:-170}, \r\n            offset:{left:0, top:0}\r\n        };\r\n        let markerElems = null;\r\n        const mouse = {\r\n            offset: {x:0, y:0},\r\n            currentPos: {x:0, y:0},\r\n            startPos: {x:0, y:0},\r\n            lastPos: {x:0, y:0},\r\n            delta: {x:0, y:0}\r\n        }\r\n        let zoom = 0;\r\n        let startZoom = 0;\r\n        const zoomRange = 20;\r\n        let maxWidth = 0;\r\n        let maxHeight = 0;\r\n        let ratio = 0;\r\n        let disable = false;\r\n        let startFingerDist = 0;\r\n        let fingerDist = 0;\r\n        let timer = null;\r\n\r\n        const idleMode = () => {\r\n            // setIdle(false);\r\n            if(timer) clearTimeout(timer);\r\n            timer = setTimeout(()=>{\r\n                setIdle(true);\r\n                setOpenLightBox(false);\r\n                openDetailsPage(false);\r\n            },1000 * 60 * 2); // 2 minutes\r\n        }\r\n        \r\n        const onMouseDown = (event) => {\r\n            let e = (event.touches? event.touches[0]: event);\r\n            mouse.startPos = {x:e.clientX, y:e.clientY};\r\n            mouse.lastPos = {x:0, y:0};\r\n            \r\n            idleMode();\r\n            \r\n            if(event.touches)\r\n                if(event.touches.length > 1) { // if multiple touches\r\n                    startZoom = zoom;\r\n                    startFingerDist = get_distance(event);\r\n                }\r\n\r\n            document.addEventListener(\"mousemove\", onMouseMove, false);\r\n            document.addEventListener(\"touchmove\", onTouchMove, false);\r\n            document.addEventListener(\"mouseup\", onMouseUp, false);\r\n            document.addEventListener(\"touchend\", onMouseUp, false);\r\n        }\r\n\r\n        const onMouseMove = (event) => {\r\n            if(!disable){\r\n                if(!event.touches) event.preventDefault();\r\n                let e = (event.touches? event.touches[0]: event);\r\n\r\n                mouse.currentPos.x = e.clientX - mouse.startPos.x;\r\n                mouse.currentPos.y = e.clientY - mouse.startPos.y;\r\n\r\n                mouse.delta.x = mouse.currentPos.x - mouse.lastPos.x;\r\n                mouse.delta.y = mouse.currentPos.y - mouse.lastPos.y;\r\n\r\n                mouse.lastPos.x = mouse.currentPos.x;\r\n                mouse.lastPos.y = mouse.currentPos.y;\r\n\r\n                map.pos.x += mouse.delta.x * 2;\r\n                map.pos.y += mouse.delta.y * 2;\r\n            }\r\n        }\r\n        \r\n        const onTouchMove = (event) => {\r\n            if(!disable){\r\n                if(event.touches.length > 1){ // If pinch-zooming\r\n                    fingerDist = get_distance(event);\r\n                    const z = (startZoom+1) * (fingerDist/startFingerDist);\r\n                    zoomTo(z-1);\r\n                }\r\n                else{\r\n                    let e = (event.touches? event.touches[0]: event);\r\n\r\n                    mouse.currentPos.x = e.clientX - mouse.startPos.x;\r\n                    mouse.currentPos.y = e.clientY - mouse.startPos.y;\r\n\r\n                    mouse.delta.x = mouse.currentPos.x - mouse.lastPos.x;\r\n                    mouse.delta.y = mouse.currentPos.y - mouse.lastPos.y;\r\n\r\n                    mouse.lastPos.x = mouse.currentPos.x;\r\n                    mouse.lastPos.y = mouse.currentPos.y;\r\n\r\n                    map.pos.x += mouse.delta.x * 2;\r\n                    map.pos.y += mouse.delta.y * 2;\r\n                }\r\n            }\r\n        }\r\n\r\n        const onMouseUp = () => {\r\n            document.removeEventListener(\"mousemove\", onMouseMove, false);\r\n            document.removeEventListener(\"touchmove\", onTouchMove, false);\r\n            document.removeEventListener('mouseup', onMouseUp, false);\r\n            document.removeEventListener('touchend', onMouseUp, false);\r\n        }\r\n\r\n        const onMouseWheel = (e) => {\r\n            if(!disable){\r\n                zoomTo(e);\r\n            }\r\n        }\r\n\r\n        const get_distance = (e) => {\r\n            var diffX = e.touches[0].clientX - e.touches[1].clientX;\r\n            var diffY = e.touches[0].clientY - e.touches[1].clientY;\r\n            return Math.sqrt(diffX * diffX + diffY * diffY);\r\n        }\r\n\r\n        const zoomTo = (e) => {\r\n            const offset = {left:mapWrapElem.current.offsetLeft, top:mapWrapElem.current.offsetTop};\r\n\r\n            let x, y;\r\n            if(typeof e === 'object'){\r\n                x = e.clientX;\r\n                y = e.clientY;\r\n            }\r\n            else{\r\n                x = window.innerWidth/2;\r\n                y = window.innerHeight/2;\r\n            }\r\n            const mx = (x - offset.left - map.pos.x) / (zoom * 2 + 1);\r\n            const my = (y - topbarElem.current.offsetHeight - offset.top - map.pos.y) / (zoom * 2 + 1);\r\n\r\n            const offsetBeforeZoom = {x:mx * (zoom * 2), y:my * (zoom * 2)};\r\n\r\n\r\n            if(typeof e === 'object'){\r\n                if(e.deltaY < 0)\r\n                    zoom += 1 / zoomRange;\r\n                else if(e.deltaY > 0)\r\n                    zoom -= 1 / zoomRange;\r\n            }\r\n            else\r\n                zoom = e;\r\n            zoom = Math.min(1, Math.max(0, zoom));\r\n            setZoomValue(zoom);\r\n            setRangeValue(zoom);\r\n\r\n\r\n            const offsetAfterZoom = {x:mx * (zoom * 2), y:my * (zoom * 2)};\r\n            const space = {x: -offset.left - offsetBeforeZoom.x, y: -offset.top - offsetBeforeZoom.y};\r\n\r\n            \r\n            mapWrapElem.current.style.left = -(offsetAfterZoom.x + space.x) +'px';\r\n            mapWrapElem.current.style.top = -(offsetAfterZoom.y + space.y) +'px';\r\n        }\r\n        zoomToFunc.current = {zoomTo}\r\n\r\n        const resetPos = () => {\r\n            zoomTo(0);\r\n            map.pos.x = -170;\r\n            map.pos.y = -170; \r\n            map.ease.x = -170;\r\n            map.ease.y = -170;\r\n            map.offset.left = 0;\r\n            map.offset.top = 0;\r\n            mapWrapElem.current.style.left = map.offset.left +'px';\r\n            mapWrapElem.current.style.top = map.offset.top +'px';\r\n        }\r\n        resetPosFunc.current = {resetPos}\r\n\r\n        const setMapSize = (w) => {\r\n            maxWidth = w;\r\n            maxHeight = maxWidth * ratio;\r\n            mapWrapElem.current.style.width = maxWidth + 'px';\r\n            mapWrapElem.current.style.height = maxHeight + 'px';\r\n        }\r\n\r\n        const movePos = () => {\r\n            if(mapWrapElem.current){\r\n                const offset = {left:mapWrapElem.current.offsetLeft, top:mapWrapElem.current.offsetTop};\r\n                map.pos.x = Math.min(-offset.left, Math.max(-(map.initWidth * (zoom * 2+1)) + mapOuterWrapElem.current.offsetWidth - offset.left, map.pos.x));\r\n                map.pos.y = Math.min(-offset.top, Math.max(-(map.initHeight * (zoom * 2+1)) + mapOuterWrapElem.current.offsetHeight - offset.top, map.pos.y));\r\n            }\r\n        }\r\n\r\n        const moveMarkerPos = () => {\r\n            for(let i=0; i<markerElems.length; i++){\r\n                const marker = markerElems[i];\r\n                marker.style.transform = `translate3d(0,0,0) scale(${zoom > .8 ? 1/(zoom * 2 + 1)+.1 : 1/(zoom * 2 + 1)})`;\r\n            }\r\n        }\r\n\r\n        const update = () => {\r\n            movePos();\r\n            moveMarkerPos();\r\n            map.ease.x += (map.pos.x - map.ease.x) * .1;\r\n            map.ease.y += (map.pos.y - map.ease.y) * .1;\r\n            if(mapWrapElem.current)\r\n                mapWrapElem.current.style.transform = `translate3d(${map.ease.x}px,${map.ease.y}px,0) scale(${zoom * 2 + 1})`;\r\n        }\r\n\r\n        const render = () => {\r\n            requestAnimationFrame(render);\r\n            update();\r\n        }\r\n        \r\n        const addEvent = () => {\r\n            document.addEventListener(\"mousedown\", onMouseDown, false);\r\n            document.addEventListener(\"touchstart\", onMouseDown, false);\r\n            document.addEventListener(\"touchmove\", (event)=>{if(!disable) event.preventDefault()}, {passive: false});\r\n            document.addEventListener(\"mousewheel\", onMouseWheel, false);\r\n        }\r\n\r\n        const removeEvent = () => {\r\n            document.removeEventListener(\"mousedown\", onMouseDown, false);\r\n            document.removeEventListener(\"touchstart\", onMouseDown, false);\r\n            document.removeEventListener(\"mousewheel\", onMouseWheel, false);\r\n        }\r\n\r\n        const loadImage = () => {\r\n            const img = new Image();\r\n            img.onload = function(){\r\n                ratio = this.height/this.width;\r\n                map.initWidth = window.innerWidth*1.2;//this.width * .205;\r\n                map.initHeight = map.initWidth * ratio;\r\n                setMapSize(map.initWidth);\r\n                init();\r\n            }\r\n            img.src = mapImg;\r\n        }\r\n\r\n        const getMarkers = (elems) => {\r\n            markerElems = elems;\r\n        }\r\n        getMarkersFunc.current = {getMarkers};\r\n\r\n        const getDisable = (bool) => {\r\n            disable = bool;\r\n        }\r\n        getDisableFunc.current = {getDisable}\r\n\r\n        const init = () => {\r\n            markerElems = document.querySelectorAll('.marker');\r\n            addEvent();\r\n            render();\r\n        }\r\n\r\n        loadImage();\r\n\r\n        return () => {\r\n            removeEvent();\r\n        }\r\n    },[])\r\n\r\n    const onClickTutor = () => {\r\n        setIdle(false);\r\n    }\r\n    \r\n    useEffect(()=>{ \r\n        let smooth = new SmoothScroll('#scrollWrap',(s, y, h) => {});\r\n        smooth.on();\r\n        smooth.showScrollBar();\r\n\r\n        let listsmooth = new SmoothScroll('#listWrap',(s, y, h) => {});\r\n        listsmooth.on();\r\n        listsmooth.showScrollBar();\r\n\r\n        return () => {\r\n            smooth.hideScrollBar();\r\n            smooth.off();\r\n            smooth = null;\r\n            \r\n            listsmooth.hideScrollBar();\r\n            listsmooth.off();\r\n            listsmooth = null;\r\n        }\r\n    },[batteryIdx])\r\n\r\n    useEffect(()=>{\r\n        getDisableFunc.current.getDisable(disableEvent);\r\n    },[disableEvent]);\r\n\r\n    useEffect(()=>{\r\n        if(category){\r\n            filteringData();\r\n        }\r\n    },[category]);\r\n    \r\n    useEffect(()=>{\r\n        filteringData();\r\n    },[contentData]);\r\n\r\n    const filteringData = () => {\r\n        let _filteredData = [];\r\n        for(let i=0; i<contentData.batteries.length; i++){\r\n            const _this = contentData.batteries[i];\r\n            if(category >= _this.startDateOfCategory && category <= _this.endDateOfCategory){\r\n                _filteredData.push(_this);\r\n            }\r\n        }\r\n        setFilteredData(_filteredData);\r\n    }\r\n\r\n    const onUpdateLanguate = (lang) => {\r\n        dispatch({type:'UPDATE_LANGUAGE', lang:lang});\r\n        setContentData(data.contents[lang]);\r\n    }\r\n\r\n    const onChangeCategory = (cat) => {\r\n        if(cat !== category){\r\n            setCategory(cat);\r\n            resetPosFunc.current.resetPos();\r\n            setTimeout(()=>{\r\n                const markers = document.querySelectorAll('.marker');\r\n                // gsap.set('.marker', {scale:1/(0 * 2 + 1)});\r\n                gsap.fromTo('.marker', .3, {autoAlpha:0}, {autoAlpha:1, stagger:.8/markers.length, ease:'power1.inOut'});\r\n                gsap.fromTo('.marker', 1, {force3D:true, y:-100, scale:5}, {y:0, scale:1, stagger:.8/markers.length, ease:'power3.out'});\r\n                // gsap.fromTo('.marker', 1, {force3D:true, y:-200}, {y:0, stagger:.8/markers.length, ease:'bounce.out'});\r\n                getMarkersFunc.current.getMarkers(markers);\r\n            },0)\r\n        }\r\n    }\r\n\r\n    // const onScroll = () => {\r\n    //     const scrollTop = sidebarElem.current.scrollTop;\r\n    //     const ul = sidebarElem.current.querySelector('ul');\r\n    //     if(scrollTop > ul.offsetHeight - sidebarElem.current.offsetHeight - 10){\r\n    //         setDownarrow(false);\r\n    //     }\r\n    //     else{\r\n    //         setDownarrow(true);\r\n    //     }\r\n        \r\n    //     if(scrollTop > 10){\r\n    //         setToparrow(true);\r\n    //     }\r\n    //     else{\r\n    //         setToparrow(false);\r\n    //     }\r\n    // }\r\n\r\n    const openDetailsPage = (bool, i) => {\r\n        setTimeout(()=>{\r\n            setShowDetails(bool);\r\n        },bool?1000:0);\r\n        setDisableEvent(bool);\r\n\r\n        if(bool){\r\n            setBatteryIdx(i);\r\n            setLogData(`${language}, ${category}, ${filteredData[i][\"name\"]}`);\r\n        }       \r\n        else{\r\n            //resetPosFunc.current.resetPos();\r\n            setBatteryIdx(null);\r\n            setGalleryIdx(0);\r\n        }\r\n        \r\n    }\r\n\r\n    const onChangeZoom = (e) => {\r\n        zoomToFunc.current.zoomTo(e.target.value);\r\n    }\r\n\r\n    const getNewPathname = (lang) => {\r\n        return props.location.pathname.replace(language, lang)\r\n    }\r\n\r\n    const onClickGallery = () => {\r\n        setOpenLightBox(true);\r\n    }\r\n\r\n    return (\r\n        <div id=\"d01\">\r\n            {\r\n                idle &&\r\n                <div id=\"idleWrap\">\r\n                    <VideoPlayer\r\n                        controls={false}\r\n                        src={(!isInDevMode() ? '.' : '') + '/images/d01/HKMCD_tutorial.mp4'}\r\n                        onReady={(player)=> player.loop(true)}\r\n                    />\r\n                </div>\r\n            }\r\n            <div id=\"idleBtn\" onClick={onClickTutor}></div>\r\n            <div ref={topbarElem} id=\"topbar\"></div>\r\n            <div ref={mapOuterWrapElem} id=\"mapOuterWrap\" className={showDetails?'hide':''}>\r\n                <div id=\"options\">\r\n                    <div id=\"zoomer\" onMouseDown={()=>setDisableEvent(true)} onTouchStart={()=>setDisableEvent(true)} onMouseUp={()=>showDetails?false:setDisableEvent(false)} onTouchEnd={()=>showDetails?false:setDisableEvent(false)}>\r\n                        <div id=\"wrap\">\r\n                            <p><span>100</span> <span>200</span> <span>300</span></p>\r\n                            <div id=\"inputWrap\"><input type=\"range\" min=\"0\" max=\"1\" step={3/20/3} value={rangeValue} onChange={onChangeZoom} /></div>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"language\">\r\n                        <Link id=\"tc\" to={()=>getNewPathname('tc')} className={language === 'tc' ? 'active' : ''} onClick={()=>onUpdateLanguate('tc')}><span>中</span></Link>\r\n                        <Link id=\"en\" to={()=>getNewPathname('en')} className={language === 'en' ? 'active' : ''} onClick={()=>onUpdateLanguate('en')}><span>eng</span></Link>\r\n                    </div>\r\n                </div>\r\n                <div id=\"sidebar\">\r\n                    <p dangerouslySetInnerHTML={{__html: contentData && language === 'en' ? contentData.global.selectDate : contentData.global.selectDate.replace(/[0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>')}}></p>\r\n                    <div id=\"outerWrap\">\r\n                        <div ref={sidebarElem} id=\"wrap\">\r\n                            <ul>\r\n                                {\r\n                                    contentData && \r\n                                    contentData.menu.map((v,i)=>{\r\n                                        return <li key={i} className={`item${' y'+v.category}${category === v.category?' active':''}`} onClick={()=>onChangeCategory(v.category)}>\r\n                                            <div className=\"textWrap\">\r\n                                                <div className=\"year\" dangerouslySetInnerHTML={{__html:language === 'en' ? v.year : v.year.replace(/[0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>')}}></div>\r\n                                                {/* <div className=\"des\" dangerouslySetInnerHTML={{__html:v.description}}></div> */}\r\n                                            </div>\r\n                                        </li>\r\n                                    })\r\n                                }\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div ref={mapWrapElem} id=\"mapWrap\" onMouseDown={()=>showDetails?false:setDisableEvent(false)} onTouchStart={()=>showDetails?false:setDisableEvent(false)} >\r\n                    {\r\n                        filteredData && \r\n                        filteredData.map((v,i)=>{\r\n                            if(category >= v.startDateOfCategory && category <= v.endDateOfCategory)\r\n                                return <div key={i} className={`marker ${batteryIdx === i?'active':''} ${showDetails?'hide':''} ${`y${v.startDateOfCategory} ${`${v.endDateOfCategory === category ?'end':''}`}`} ${`level${Math.round(zoomValue*3)}`}`} \r\n                                style={{left:v.position.x+'%', top:v.position.y+'%'}}\r\n                                onClick={()=>openDetailsPage(true, i)}\r\n                                ><div className=\"wrap\"><span><span className={`y${filteredData[i][\"startDateOfCategory\"]}`} dangerouslySetInnerHTML={{__html:v.name}}></span></span><div className={`triangle ${`level${Math.round(zoomValue*3)}`}`}></div></div></div>\r\n                            else\r\n                                return false;\r\n                        })\r\n                    }\r\n                    <div ref={mapElem} id=\"map\" className={batteryIdx !== null ? 'dim' : ''} style={{backgroundImage:`url(${mapImg})`}} />\r\n                    <div ref={mapTopElem} id=\"mapTop\" style={{backgroundImage:`url(${mapTopImg})`}} />\r\n                </div>\r\n            </div>\r\n            <div id=\"detailsWrap\" className={showDetails?'':'hide'}>\r\n                <div id=\"bg\" onClick={()=>openDetailsPage(false)}></div>\r\n                <div id=\"wrap\">\r\n                    <div id=\"closeBtn\" onClick={()=>openDetailsPage(false)}></div>\r\n                    { batteryIdx > 0 &&<div id=\"prev\" className=\"btn\" onClick={()=>{setGalleryIdx(0); setBatteryIdx(batteryIdx-1 > 0 ? batteryIdx-1 : 0); setLogData(`${language}, ${category}, ${filteredData[batteryIdx-1][\"name\"]}`);}}></div> }\r\n                    { batteryIdx < filteredData.length-1 && <div id=\"next\" className=\"btn\" onClick={()=>{setGalleryIdx(0); setBatteryIdx(batteryIdx+1 < filteredData.length-1 ? batteryIdx+1 : filteredData.length-1); setLogData(`${language}, ${category}, ${filteredData[batteryIdx+1][\"name\"]}`)}}></div> }\r\n                    <div id=\"contentWrap\">\r\n                        <div id=\"contentLeft\">\r\n                            <div id=\"header\">\r\n                                {\r\n                                    filteredData &&\r\n                                    batteryIdx !== null &&\r\n                                    <>\r\n                                        <h1 id=\"year\" className=\"alignC\"><span dangerouslySetInnerHTML={{__html:language === 'en' ? filteredData[batteryIdx].year : filteredData[batteryIdx].year.replace(/[0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScaleYear\">$&</span>')}}></span></h1>\r\n                                        <h2 id=\"name\" className=\"alignC cap\" dangerouslySetInnerHTML={{__html:language === 'en' ? filteredData[batteryIdx].name.replace('<br/>', '&nbsp;') : filteredData[batteryIdx].name.replace(/[0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>').replace('<br/>', '&nbsp;') }}></h2>\r\n                                    </>\r\n                                }\r\n                            </div>\r\n                            <div id=\"listOuterWrap\">\r\n                                <div id=\"listWrap\">\r\n                                    <ul>\r\n                                        {\r\n                                            filteredData &&\r\n                                            batteryIdx !== null &&\r\n                                            filteredData[batteryIdx].details.list.map((v, i)=>{\r\n                                                return <li key={i}>\r\n                                                    <h3 dangerouslySetInnerHTML={{__html:language === 'en' ? v[0] : v[0].replace(/[0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>')}}></h3>\r\n                                                    {\r\n                                                        Array.isArray(v[1]) ?\r\n                                                        <div>\r\n                                                            {console.log(v)}\r\n                                                            {\r\n                                                                v[1].map((w,j)=>{\r\n                                                                    return <p key={j} dangerouslySetInnerHTML={{__html: language === 'en' ? w :w.replace(/[.0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>')}}></p>\r\n                                                                })\r\n                                                            }\r\n                                                        </div>\r\n                                                        :\r\n                                                        <div dangerouslySetInnerHTML={{__html:language === 'en' ? v[1] : v[1].replace(/[.0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>')}}></div>\r\n                                                    }\r\n                                                </li>\r\n                                            })\r\n                                        }\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"contentRight\">\r\n                            <div id=\"mainContentWrap\">\r\n                                <div id=\"outerWrap\">\r\n                                    <div id=\"innerWrap\">\r\n                                        <div id=\"scrollWrap\">\r\n                                            {\r\n                                                filteredData &&\r\n                                                batteryIdx !== null &&\r\n                                                <div id=\"content\" dangerouslySetInnerHTML={{__html: language === 'en' ? filteredData[batteryIdx].details.description.replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale tc\">$&</span>') : filteredData[batteryIdx].details.description.replace(/[.0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{4E0A}]|[\\u{4E0C}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>').replace(/[\\u{4E0B}]/gu, '<span class=\"fontScale low\">$&</span>')}}></div>\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div id=\"galleryWrap\">\r\n                                {\r\n                                    filteredData &&\r\n                                    batteryIdx !== null &&\r\n                                    filteredData[batteryIdx].details.gallery.images.length &&\r\n                                    <>\r\n                                        {galleryIdx > 0 && <div id=\"prev\" className=\"btn\" onClick={()=>setGalleryIdx(galleryIdx-1 > 0 ? galleryIdx-1 : 0)}></div>}\r\n                                        {galleryIdx < filteredData[batteryIdx].details.gallery.images.length-1 && <div id=\"next\" className=\"btn\" onClick={()=>setGalleryIdx(galleryIdx+1 < filteredData[batteryIdx].details.gallery.images.length-1 ? galleryIdx+1 : filteredData[batteryIdx].details.gallery.images.length-1)}></div>}\r\n                                    </>\r\n                                }\r\n                                <div id=\"gallery\">\r\n                                    <ul>\r\n                                        {\r\n                                            filteredData &&\r\n                                            batteryIdx !== null &&\r\n                                            <li className={filteredData[batteryIdx].details.gallery.video && galleryIdx === 0 ? 'video' : ''} style={{backgroundImage:`url('${ (!isInDevMode() ? '.' : '') + filteredData[batteryIdx].details.gallery.images[galleryIdx].src }')`}} onClick={onClickGallery}>\r\n                                                {\r\n                                                    filteredData[batteryIdx].details.gallery.images[galleryIdx].description &&\r\n                                                    <div className=\"imgDes\">\r\n                                                        <p dangerouslySetInnerHTML={{__html:language === 'en' ? filteredData[batteryIdx].details.gallery.images[galleryIdx].description : filteredData[batteryIdx].details.gallery.images[galleryIdx].description.replace(/[0-9]+(?![.0-9%])|[A-Za-z]+(?![^<>]*>)/g,'<span class=\"en\">$&</span>').replace(/[\\u{FA0E}\\u{FA0F}\\u{FA11}\\u{FA13}\\u{FA14}\\u{FA1F}\\u{FA21}\\u{FA23}\\u{FA24}\\u{FA27}-\\u{FA29}]|[\\u{4E00}-\\u{9FCC}]|[\\u{3400}-\\u{4DB5}]|[\\u{20000}-\\u{2A6D6}]|[\\u{2A700}-\\u{2B734}]|[\\u{2B740}-\\u{2B81D}]|[\\u{2B820}-\\u{2CEAF}]|[\\u{2CEB0}-\\u{2EBEF}]/gu,'<span class=\"fontScale\">$&</span>') }}></p>\r\n                                                    </div>\r\n                                                }\r\n                                                {\r\n                                                    filteredData[batteryIdx].details.gallery.images[galleryIdx].credit &&\r\n                                                    <span id=\"credit\" dangerouslySetInnerHTML={{__html: filteredData[batteryIdx].details.gallery.images[galleryIdx].credit }}></span>\r\n                                                }\r\n                                            </li>\r\n                                        }\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {\r\n                openLightBox && batteryIdx !== null && \r\n                <LightBox \r\n                    filteredData={filteredData} \r\n                    batteryIdx={batteryIdx} \r\n                    galleryIdx={galleryIdx}\r\n                    setOpenLightBox={setOpenLightBox}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default D01;","// https://medium.com/@csepulv/in-order-to-import-electron-please-try-the-following-29c58f43f86f\r\n// const electron = window.require('electron');\r\n// const ipc = electron.ipcRenderer;\r\n\r\nconst ipcFunc = function(){\r\n    // check if electron exist\r\n  try {\r\n    const {ipcRenderer} = window.require('electron');\r\n    return ipcRenderer;\r\n  } catch (e) {\r\n    // not in electron\r\n    // use window.onMessage instead?\r\n    // now return a fake ipcRenderer object\r\n    const ipc = {};\r\n  //   ipc['on'] = (key, callback) => {\r\n  //     window.addEventListener('message', (event) => {\r\n  //       const msg = event.data;\r\n  //       if (typeof (msg) === \"string\") {\r\n  //         try {\r\n  //           const parsedMsg = JSON.parse(msg);\r\n  //           if (parsedMsg.key === key) {\r\n  //             callback(event, parsedMsg.msg);\r\n  //           }\r\n  //         } catch (e) {\r\n  //           // non-json, ff\r\n  //         }\r\n  //       }\r\n  //     });\r\n  //   }\r\n  //   ipc['once'] = ipc['on'];\r\n    ipc['send'] = (key, msg) => {\r\n      // sender page class list\r\n      // const senderEl = window.document.querySelector('#root > div');\r\n      // if (!senderEl) return;\r\n      // const senderClassList = senderEl.classList;\r\n      // let receiver = '';\r\n      // if (senderClassList.contains('ex9-1b-content')) {\r\n      //   receiver = '/exhibition_9.1a';\r\n      // } else if (senderClassList.contains('ex9-3b-content')) {\r\n      //   receiver = '/exhibition_9.3a';\r\n      // }\r\n      // const parent = window.parent;\r\n      // if (parent) {\r\n      //   const stringifyMsg = JSON.stringify({\r\n      //     key: key,\r\n      //     receiver: receiver,\r\n      //     msg: msg\r\n      //   });\r\n      //   parent.postMessage(stringifyMsg, '*');\r\n      // }\r\n    }\r\n\r\n    // for use in outermost App.js\r\n    ipc['isFake'] = true;\r\n\r\n    return ipc;\r\n  }\r\n}\r\n\r\nconst ipc = ipcFunc();\r\n\r\nexport default ipc;","import ipc from './index';\r\n\r\nconst setLogData = (data) => {\r\n    ipc.send('setLogData', data);\r\n}\r\n\r\nexport {\r\n    setLogData\r\n}","module.exports = __webpack_public_path__ + \"static/media/map.d93bb332.png\";","module.exports = __webpack_public_path__ + \"static/media/map_top.0926373a.png\";"],"sourceRoot":""}